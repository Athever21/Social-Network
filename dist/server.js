module.exports=(()=>{"use strict";var __webpack_modules__={283:(e,o,r)=>{var t;r.d(o,{N0:()=>a,ad:()=>s,_G:()=>d,s7:()=>i,Qx:()=>n,E:()=>l}),e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;r(334).config();const a=process.env.PORT||3e3,s=process.env.MONGO_URI||"mongodb://localhost:27017/social",d=process.env.SESS_SECRET||"secret",i=process.env.GOOGLE_PRIVATE_KEY,n=process.env.GOOGLE_EMAIL,l=process.env.REDIS_URL;var c,u;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(a,"port","E:\\Projects\\Social Network\\server\\config\\config.js"),c.register(s,"mongo_uri","E:\\Projects\\Social Network\\server\\config\\config.js"),c.register(d,"sess_secret","E:\\Projects\\Social Network\\server\\config\\config.js"),c.register(i,"google_private_key","E:\\Projects\\Social Network\\server\\config\\config.js"),c.register(n,"google_email","E:\\Projects\\Social Network\\server\\config\\config.js"),c.register(l,"redis_url","E:\\Projects\\Social Network\\server\\config\\config.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},521:(e,o,r)=>{r.d(o,{vr:()=>f,wO:()=>v,Ut:()=>u,Ts:()=>c});const t=require("googleapis");var a=r(283);const s=require("util");var d;e=r.hmd(e),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&d(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=["https://www.googleapis.com/auth/drive"],n=new t.google.auth.JWT(a.Qx,null,a.s7,i),l=t.google.drive({version:"v3",auth:n}),c=(0,s.promisify)(l.files.create).bind(l),u=(0,s.promisify)(l.files.list).bind(l),f=(0,s.promisify)(l.files.delete).bind(l),v=(0,s.promisify)(l.files.get).bind(l),p=l;var g,m;(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(i,"scopes","E:\\Projects\\Social Network\\server\\google-drive.js"),g.register(n,"auth","E:\\Projects\\Social Network\\server\\google-drive.js"),g.register(l,"drive","E:\\Projects\\Social Network\\server\\google-drive.js"),g.register(c,"uploadAsync","E:\\Projects\\Social Network\\server\\google-drive.js"),g.register(u,"showFilesAsync","E:\\Projects\\Social Network\\server\\google-drive.js"),g.register(f,"deleteFileAsync","E:\\Projects\\Social Network\\server\\google-drive.js"),g.register(v,"getFileAsync","E:\\Projects\\Social Network\\server\\google-drive.js"),g.register(p,"default","E:\\Projects\\Social Network\\server\\google-drive.js")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},483:(e,o,r)=>{r.r(o);var t=r(127),a=r.n(t);const s=require("path");var d=r.n(s),i=r(619),n=r.n(i);const l=require("socket.io");var c=r.n(l);const u=require("cluster");var f=r.n(u);const v=require("os"),p=require("express-session");var g=r.n(p);const m=require("helmet");var y=r.n(m);const w=require("redis");var b=r.n(w);const j=require("connect-redis");var L=r.n(j),G=r(281),H=r(283),h=r(873),_=r(185),k=r(957),S=r(169),N=r(286),E=r(347),Z=r(459),P=r(74),M=r(558),I=r(805);const q=require("socket.io-redis");var x,O=r.n(q);e=r.hmd(e),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&x(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;(async()=>{try{await n().connect(H.ad,{useNewUrlParser:!0,useUnifiedTopology:!0,useCreateIndex:!0,useFindAndModify:!1}),console.log("connected to database")}catch(e){console.log(e)}})();let A=L()(g()),U=b().createClient({url:H.E});U.on("error",(e=>console.log(e)));const T=a()();if(T.enable("trust proxy"),T.use(y()({contentSecurityPolicy:{directives:{connectSrc:["http://localhost:3000","http://localhost:85","'self'"],defaultSrc:["http://localhost:3000","'self'"],styleSrc:["'self'","'unsafe-inline'","unpkg.com","cdn.jsdelivr.net","fonts.googleapis.com","use.fontawesome.com"],scriptSrc:["'self'","js.stripe.com",""],frameSrc:["'self'","js.stripe.com"],fontSrc:["'self'","fonts.googleapis.com","fonts.gstatic.com","use.fontawesome.com","cdn.joinhoney.com"],imgSrc:["'self'","data:"]}}})),T.use(g()({secret:H._G,cookie:{httpOnly:!0,sameSite:!0,maxAge:6e5},store:new A({client:U,ttl:86400}),resave:!1,saveUninitialized:!1})),T.disable("x-powered-by"),T.use(a().json()),T.use("/dist",a().static(d().join(process.cwd(),"dist"))),T.use("/api/users",_.Z),T.use("/api/auth",k.Z),T.use("/api/posts",S.Z),T.use("/api/friends",N.Z),T.use("/api/notif",E.Z),T.use("/api/comments",Z.Z),T.use("/api/message",P.Z),T.use("/api/admin",M.Z),T.get("*",(async(e,o)=>o.send((0,G.Z)()))),T.use(h.Z),f().isMaster){for(let e=0;e<(0,v.cpus)().length;e++)f().fork();f().on("exit",(e=>{console.log(`Worker ${e.process.pid} died`),f().fork()}))}else{const e=T.listen(H.N0,(()=>{console.log(`Server listening on port ${H.N0}`),console.log(process.pid)})),o=b().createClient({url:H.E}),r=c()(e);r.adapter(O()({host:o,port:o})),(0,I.Z)(r)}var R,B;(R="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(R.register(A,"RedisStore","E:\\Projects\\Social Network\\server\\index.js"),R.register(U,"redisClient","E:\\Projects\\Social Network\\server\\index.js"),R.register(T,"app","E:\\Projects\\Social Network\\server\\index.js")),(B="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&B(e)},975:(e,o,r)=>{r.d(o,{Z:()=>l});var t,a=r(619),s=r(231),d=r.n(s);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=new a.Schema({_id:{type:String,default:d()},author:{type:String,ref:"User"},post:{type:String,ref:"Post"},message:String},{timestamps:!0});i.set("toJSON",{transform:(e,o)=>{o.id=o._id,delete o._id,delete o.__v}});const n=(0,a.model)("Comment",i),l=n;var c,u;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(i,"commentsSchema","E:\\Projects\\Social Network\\server\\models\\Comments.js"),c.register(n,"default","E:\\Projects\\Social Network\\server\\models\\Comments.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},81:(e,o,r)=>{r.d(o,{Z:()=>i});var t,a=r(619);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const s=new a.Schema({user:{type:String,ref:"User"},friends:{type:[{type:String,ref:"User"}],ref:"User"}});s.set("toJSON",{transform:(e,o)=>{o.id=o._id,delete o._id,delete o.__v}});const d=(0,a.model)("Friends",s),i=d;var n,l;(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(s,"friendsSchema","E:\\Projects\\Social Network\\server\\models\\Friends.js"),n.register(d,"default","E:\\Projects\\Social Network\\server\\models\\Friends.js")),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)},489:(e,o,r)=>{r.d(o,{Z:()=>l});var t=r(619),a=r(231),s=r.n(a);require("dayjs");var d;e=r.hmd(e),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&d(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=new t.Schema({_id:{type:String,default:s()},from:{type:String,ref:"User"},to:{type:String,ref:"User"},message:String,read:{type:Boolean,default:!1}},{timestamps:!0});i.set("toJSON",{transform:(e,o)=>{o.id=o._id,delete o._id,delete o.__v}});const n=(0,t.model)("Message",i),l=n;var c,u;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(i,"messageSchema","E:\\Projects\\Social Network\\server\\models\\Message.js"),c.register(n,"default","E:\\Projects\\Social Network\\server\\models\\Message.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},147:(e,o,r)=>{r.d(o,{Z:()=>l});var t,a=r(619),s=r(231),d=r.n(s);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=new a.Schema({_id:{type:String,default:d()},from:{type:String,ref:"User"},to:{type:String,ref:"User"},type:{type:String,enum:["FRIEND","LIKE_POST","COMMENT"]},post:String,read:{type:Boolean,default:!1},createdAt:{type:Date,default:Date.now()},updateAt:{type:Date,default:Date.now()}});i.pre("save",(function(e){const o=Date.now();this.updatedAt=o,this.createdAt||(this.createdAt=o),e()})),i.set("toJSON",{transform:(e,o)=>{o.id=o._id,delete o._id,delete o.__v}});const n=(0,a.model)("Notif",i),l=n;var c,u;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(i,"notificationSchema","E:\\Projects\\Social Network\\server\\models\\Notification.js"),c.register(n,"default","E:\\Projects\\Social Network\\server\\models\\Notification.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},295:(e,o,r)=>{r.d(o,{Z:()=>l});var t,a=r(619),s=r(231),d=r.n(s);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=new a.Schema({_id:{type:String,default:d()},message:String,author:{type:String,ref:"User"},likes:{type:Number,default:0},usersLiked:{type:[String],ref:"User",default:[]},files:{type:[String],default:[]}},{timestamps:!0});i.set("toJSON",{transform:(e,o)=>{o.id=o._id,delete o._id,delete o.__v}});const n=(0,a.model)("Post",i),l=n;var c,u;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(i,"postSchema","E:\\Projects\\Social Network\\server\\models\\Post.js"),c.register(n,"default","E:\\Projects\\Social Network\\server\\models\\Post.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},337:(e,o,r)=>{r.d(o,{Z:()=>p});var t=r(619),a=r(193),s=r.n(a);const d=require("mongoose-unique-validator");var i,n=r.n(d),l=r(231),c=r.n(l);e=r.hmd(e),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&i(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const u=new t.Schema({_id:{type:String,default:c()},username:{type:String,minlength:3,maxlength:16,unique:!0},password:String,img:String});class f{static async validatePassword(e,o){return await s().verify(o.password,e)}static async createUser(e){const o=await s().hash(e.password);return new this({...e,password:o}).save()}}u.plugin(n()),u.loadClass(f),u.set("toJSON",{transform:(e,o)=>{o.id=o._id,delete o._id,delete o.__v,delete o.password}});const v=(0,t.model)("User",u),p=v;var g,m;(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(u,"userSchema","E:\\Projects\\Social Network\\server\\models\\User.js"),g.register(f,"User","E:\\Projects\\Social Network\\server\\models\\User.js"),g.register(v,"default","E:\\Projects\\Social Network\\server\\models\\User.js")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},558:(e,o,r)=>{r.d(o,{Z:()=>l});var t,a=r(127),s=r(266),d=r(928);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=(0,a.Router)();i.all((0,s.Z)(d.I8)),i.route("/post").get((0,s.Z)(d.Jq)).delete((0,s.Z)(d.fR)),i.route("/user").get((0,s.Z)(d.Rf)).delete((0,s.Z)(d.h8)),i.route("/file").get((0,s.Z)(d.bE)).delete((0,s.Z)(d._I));const n=i,l=n;var c,u;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(i,"router","E:\\Projects\\Social Network\\server\\routes\\admin.js"),c.register(n,"default","E:\\Projects\\Social Network\\server\\routes\\admin.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},957:(e,o,r)=>{r.d(o,{Z:()=>l});var t,a=r(127),s=r(266),d=r(768);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=(0,a.Router)();i.route("/login").post((0,s.Z)(d.pH)),i.route("/logout").post((0,s.Z)(d.TX)),i.route("/session").post((0,s.Z)(d.xn));const n=i,l=n;var c,u;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(i,"router","E:\\Projects\\Social Network\\server\\routes\\auth.js"),c.register(n,"default","E:\\Projects\\Social Network\\server\\routes\\auth.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},459:(e,o,r)=>{r.d(o,{Z:()=>l});var t,a=r(127),s=r(266),d=r(656);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=(0,a.Router)();i.route("/").all((0,s.Z)(d.I8)).post((0,s.Z)(d.Ir)),i.route("/post/:postId").all((0,s.Z)(d.I8)).get((0,s.Z)(d.rN)),i.route("/:id").all((0,s.Z)(d.Zj)).get((0,s.Z)(d.d7)).put((0,s.Z)(d.sA)).delete((0,s.Z)(d.PN));const n=i,l=n;var c,u;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(i,"router","E:\\Projects\\Social Network\\server\\routes\\comments.js"),c.register(n,"default","E:\\Projects\\Social Network\\server\\routes\\comments.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},286:(e,o,r)=>{r.d(o,{Z:()=>l});var t,a=r(127),s=r(266),d=r(410);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=(0,a.Router)();i.route("/").all((0,s.Z)(d.I8)).post((0,s.Z)(d.SK)),i.route("/:user").all((0,s.Z)(d.Zj)).get((0,s.Z)(d.$J)).patch((0,s.Z)(d.tJ));const n=i,l=n;var c,u;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(i,"router","E:\\Projects\\Social Network\\server\\routes\\friends.js"),c.register(n,"default","E:\\Projects\\Social Network\\server\\routes\\friends.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},74:(e,o,r)=>{r.d(o,{Z:()=>l});var t,a=r(127),s=r(543),d=r(266);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=(0,a.Router)();i.route("/").all((0,d.Z)(s.I8)).get((0,d.Z)(s._U)).post((0,d.Z)(s.Hz)),i.route("/count").all((0,d.Z)(s.I8)).get((0,d.Z)(s.hR)),i.route("/:id").all((0,d.Z)(s.Zj)).patch((0,d.Z)(s.q1)).delete((0,d.Z)(s.Gd));const n=i,l=n;var c,u;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(i,"router","E:\\Projects\\Social Network\\server\\routes\\message.js"),c.register(n,"default","E:\\Projects\\Social Network\\server\\routes\\message.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},347:(e,o,r)=>{r.d(o,{Z:()=>l});var t,a=r(127),s=r(266),d=r(385);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=(0,a.Router)();i.route("/").get((0,s.Z)(d.oY)).post((0,s.Z)(d.Cb)),i.route("/:id").all((0,s.Z)(d.Zj)).patch((0,s.Z)(d.un)).delete((0,s.Z)(d.yE));const n=i,l=n;var c,u;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(i,"router","E:\\Projects\\Social Network\\server\\routes\\notifiactions.js"),c.register(n,"default","E:\\Projects\\Social Network\\server\\routes\\notifiactions.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},169:(e,o,r)=>{r.d(o,{Z:()=>f});var t,a=r(127),s=r(633),d=r.n(s),i=r(266),n=r(547);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const l=(0,a.Router)(),c=d()();l.route("/").all((0,i.Z)(n.I8)).get((0,i.Z)(n.Bd)).post(c.fields([{name:"file"},{name:"message"}]),(0,i.Z)(n.qb)),l.route("/user/:userId").all((0,i.Z)(n.I8)).get((0,i.Z)(n.hs)),l.route("/img/:imgId").all((0,i.Z)(n.I8)).get((0,i.Z)(n.gJ)),l.route("/:id").all((0,i.Z)(n.Zj)).get((0,i.Z)(n.xl)).put((0,i.Z)(n.ju)).patch((0,i.Z)(n.n9)).delete((0,i.Z)(n.M8));const u=l,f=u;var v,p;(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(l,"router","E:\\Projects\\Social Network\\server\\routes\\posts.js"),v.register(c,"upload","E:\\Projects\\Social Network\\server\\routes\\posts.js"),v.register(u,"default","E:\\Projects\\Social Network\\server\\routes\\posts.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},185:(e,o,r)=>{r.d(o,{Z:()=>f});var t,a=r(127),s=r(266),d=r(808),i=r(633),n=r.n(i);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const l=(0,a.Router)(),c=n()();l.route("/").get((0,s.Z)(d.AW)).post((0,s.Z)(d.r4)),l.route("/img").all((0,s.Z)(d.Mb)).post(c.single("userPhoto"),(0,s.Z)(d.QL)),l.route("/img/:id").all((0,s.Z)(d.I8)).get((0,s.Z)(d.gJ)),l.route("/:id").all((0,s.Z)(d.Iq)).get((0,s.Z)(d.PR)).patch((0,s.Z)(d.AQ)).delete((0,s.Z)(d.kX));const u=l,f=u;var v,p;(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(l,"router","E:\\Projects\\Social Network\\server\\routes\\users.js"),v.register(c,"upload","E:\\Projects\\Social Network\\server\\routes\\users.js"),v.register(u,"default","E:\\Projects\\Social Network\\server\\routes\\users.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},928:(e,o,r)=>{r.d(o,{I8:()=>u,Jq:()=>f,fR:()=>v,Rf:()=>p,h8:()=>g,bE:()=>m,_I:()=>y});var t,a=r(295),s=r(337),d=r(975),i=r(147),n=r(81),l=r(521),c=r(881);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const u=(e,o)=>{if(!e.session.user)throw new c.NI;if("admin"!==!e.session.user.username)throw new c.rN;return next()},f=async(e,o)=>{const{page:r=0}=e.query,t=await a.Z.find().populate("author").skip(20*parseInt(r)).exec();return o.json(t)},v=async(e,o)=>{const{id:r}=e.query,t=await a.Z.findById(r);for(const e of t.files)await(0,l.vr)(e);return await d.Z.deleteMany({post:r}),await i.Z.deleteMany({post:r}),await a.Z.findByIdAndDelete(r),o.send("ok")},p=async(e,o)=>{const{page:r=0}=e.query,t=await s.Z.find().skip(50*parseInt(r)).exec();return o.json(t)},g=async(e,o)=>{const{id:r}=e.query,t=await a.Z.find({author:r}),c=await s.Z.findById(r);c.img&&await(0,l.vr)({fileId:c.img});for(const e of t){for(const o of e.files)await(0,l.vr)({fileId:o});await d.Z.deleteMany({post:e.id}),await i.Z.deleteMany({post:e.id}),await a.Z.findByIdAndDelete(e.id)}const u=await n.Z.find({friends:r});for(const o of u){const r=o.friends.findIndex((o=>o===e.user._id));o.friends.splice(r,1),await o.save()}return await n.Z.deleteOne({user:r}),await i.Z.deleteMany({$or:[{to:r},{from:r}]}),await s.Z.findByIdAndDelete(r),o.send("ok")},m=async(e,o)=>{console.log("a");const{page:r=0}=e.query,t=25*parseInt(r);let a=1,s=[];const d=await(0,l.Ut)();for(const e of d.data.files)if("application/vnd.google-apps.folder"!==e.mimeType){if(!(a>t&&a-t<=25))break;console.log(e),s.push(e.id),a++}return o.json({data:s})},y=async(e,o)=>{const{id:r}=e.query;return await(0,l.vr)({fileId:r}),o.send("ok")};var w,b;(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(u,"auth","E:\\Projects\\Social Network\\server\\services\\admin.js"),w.register(f,"getPosts","E:\\Projects\\Social Network\\server\\services\\admin.js"),w.register(v,"deletePost","E:\\Projects\\Social Network\\server\\services\\admin.js"),w.register(p,"getUsers","E:\\Projects\\Social Network\\server\\services\\admin.js"),w.register(g,"deleteUser","E:\\Projects\\Social Network\\server\\services\\admin.js"),w.register(m,"getFiles","E:\\Projects\\Social Network\\server\\services\\admin.js"),w.register(y,"deleteFile","E:\\Projects\\Social Network\\server\\services\\admin.js")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},768:(e,o,r)=>{r.d(o,{pH:()=>d,TX:()=>i,xn:()=>n});var t,a=r(337),s=r(881);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=async(e,o,r)=>{const{username:t,password:d}=e.body;if(!t||!d)throw new s.oy("Missing username or password");const i=await a.Z.findOne({username:t});if(!i||!await a.Z.validatePassword(d,i))throw new s.oy("Invalid username or password");e.session.regenerate((t=>t?r(t):(e.session.user=i.toJSON(),console.log(i.toJSON()),o.json(i))))},i=async(e,o,r)=>(e.session.destroy((e=>{if(e)return r(e)})),o.send("ok")),n=async(e,o)=>o.json(e.session.user);var l,c;(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(d,"loginUser","E:\\Projects\\Social Network\\server\\services\\auth.js"),l.register(i,"logoutUser","E:\\Projects\\Social Network\\server\\services\\auth.js"),l.register(n,"getSessionUser","E:\\Projects\\Social Network\\server\\services\\auth.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},656:(e,o,r)=>{r.d(o,{I8:()=>d,Zj:()=>i,Ir:()=>n,rN:()=>l,d7:()=>c,sA:()=>u,PN:()=>f});var t,a=r(975),s=r(881);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=async(e,o,r)=>{if(e.session.user)return r();throw new s.NI},i=async(e,o,r)=>{if(!e.session.user)throw new s.NI;const t=await a.Z.findById(e.params.id);if(!t)throw new s.oy("Comment not found");if(t.author!==e.session.user.id)throw new s.rN;return e.comment=t,r()},n=async(e,o,r)=>{const t=new a.Z({message:e.body.message,author:e.session.user.id,post:e.body.post});return await t.save(),o.json(t)},l=async(e,o,r)=>{try{const r=20,{postId:t}=e.params,{page:s=0}=e.query,d=await a.Z.find({post:t}).sort({createdAt:-1}).populate("author").skip(parseInt(s)*r).limit(r).exec();return o.json(d)}catch(e){return r(e)}},c=async(e,o)=>o.json(e.comment),u=async(e,o)=>(e.comment.message=e.body.message,await e.comment.save(),o.json(e.comment)),f=async(e,o)=>(await a.Z.findByIdAndRemove(e.comment._id),o.send("deleted"));var v,p;(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(d,"auth","E:\\Projects\\Social Network\\server\\services\\comments.js"),v.register(i,"authToAlter","E:\\Projects\\Social Network\\server\\services\\comments.js"),v.register(n,"addComment","E:\\Projects\\Social Network\\server\\services\\comments.js"),v.register(l,"getCommentsForPost","E:\\Projects\\Social Network\\server\\services\\comments.js"),v.register(c,"getComment","E:\\Projects\\Social Network\\server\\services\\comments.js"),v.register(u,"changeComment","E:\\Projects\\Social Network\\server\\services\\comments.js"),v.register(f,"removeComment","E:\\Projects\\Social Network\\server\\services\\comments.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},410:(e,o,r)=>{r.d(o,{I8:()=>d,SK:()=>i,$J:()=>n,Zj:()=>l,tJ:()=>c});var t,a=r(81),s=r(881);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=async(e,o,r)=>{if(!e.session.user)throw new s.NI;return r()},i=async(e,o)=>{const{user1:r,user2:t}=e.body;for(const e of[r,t]){let o=await a.Z.findOne({user:e});const s=e===r?t:r;o?o.friends=[...o.friends,s]:o=new a.Z({user:e,friends:[s]}),await o.save()}return o.send("added")},n=async(e,o)=>{const{user:r}=e.params,{page:t=0}=e.query,s=await a.Z.findOne({user:r},{friends:{$slice:[10*parseInt(t),10]}}).populate("friends").exec();return o.json(s)},l=async(e,o,r)=>{if(!e.session.user)throw new s.NI;const t=await a.Z.findOne({user:e.session.user.id});if(!t)throw new s.TX;return e.f=t,r()},c=async(e,o,r)=>{try{const r=e.f.friends.findIndex((o=>o===e.body.user));return e.f.friends.splice(r,1),await e.f.save(),o.json(e.f)}catch(e){return r(e)}};var u,f;(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(d,"auth","E:\\Projects\\Social Network\\server\\services\\friends.js"),u.register(i,"addFriend","E:\\Projects\\Social Network\\server\\services\\friends.js"),u.register(n,"getFriends","E:\\Projects\\Social Network\\server\\services\\friends.js"),u.register(l,"authToAlter","E:\\Projects\\Social Network\\server\\services\\friends.js"),u.register(c,"removeFriend","E:\\Projects\\Social Network\\server\\services\\friends.js")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)},543:(e,o,r)=>{r.d(o,{I8:()=>d,_U:()=>i,Hz:()=>n,Zj:()=>l,q1:()=>c,Gd:()=>u,hR:()=>f});var t,a=r(489),s=r(881);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=async(e,o,r)=>{if(!e.session.user)throw new s.NI;return r()},i=async(e,o)=>{const{page:r=0,user:t}=e.query,s=await a.Z.find({from:{$in:[e.session.user.id,t]},to:{$in:[e.session.user.id,t]}}).sort({createdAt:-1}).skip(20*parseInt(r)).limit(20).exec();return o.json(s)},n=async(e,o)=>{const r=new a.Z(e.body);return await r.save(),o.json(r)},l=async(e,o,r)=>{const t=Date.now();if(!e.session.user)throw new s.NI;const d=await a.Z.findById(e.params.id);if(!d)throw new s.TX;if("PATCH"===e.method&&e.session.user.id!==d.to)throw new s.rN;if("DELETE"===e.method&&e.session.user.id!==d.from)throw new s.rN;e.message=d;const i=Date.now();return console.log("performance authToAlter "+(i-t)),r()},c=async(e,o)=>{const r=Date.now();e.message.read=!0,await e.message.save();const t=Date.now();return console.log("performance changeMessage "+(t-r)),o.json(e.message)},u=async(e,o)=>(await a.Z.findByIdAndDelete(e.message.id),o.send("ok")),f=async(e,o)=>{const{user:r}=e.query,t=await a.Z.countDocuments({from:r,to:e.session.user.id,read:!1});return o.json({count:t})};var v,p;(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(d,"auth","E:\\Projects\\Social Network\\server\\services\\message.js"),v.register(i,"getMessages","E:\\Projects\\Social Network\\server\\services\\message.js"),v.register(n,"addMessage","E:\\Projects\\Social Network\\server\\services\\message.js"),v.register(l,"authToAlter","E:\\Projects\\Social Network\\server\\services\\message.js"),v.register(c,"changeMessage","E:\\Projects\\Social Network\\server\\services\\message.js"),v.register(u,"removeMessage","E:\\Projects\\Social Network\\server\\services\\message.js"),v.register(f,"countMessages","E:\\Projects\\Social Network\\server\\services\\message.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},385:(e,o,r)=>{r.d(o,{Zj:()=>n,Cb:()=>l,oY:()=>c,un:()=>u,yE:()=>f});var t,a=r(147),s=r(337),d=r(881);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=(e,o,r)=>{if(!e.session.user)throw new d.NI;return r()},n=async(e,o,r)=>{if(!e.session.user)throw new d.NI;const t=await a.Z.findById(e.params.id);if(!t)throw new d.TX;if(e.session.user.id!==t.to)throw new d.rN;return e.n=t,r()},l=async(e,o,r)=>{const{from:t,to:d,type:i,post:n=""}=e.body;try{const e=new a.Z({from:t,to:d,type:i,post:n});await e.save();const r=await s.Z.findById(t);return e.author=r,o.json(e)}catch(e){return r(e)}},c=async(e,o)=>{const{page:r=0}=e.query,t=await a.Z.find({to:e.session.user.id}).sort({createdAt:-1}).populate("from").skip(10*parseInt(r)).limit(10).exec(),s=await a.Z.countDocuments({to:e.session.user.id,read:!1});return o.json({notifs:t,count:s})},u=async(e,o)=>(e.n.read=!0,e.n.save(),o.json(e.n)),f=async(e,o)=>(await a.Z.findByIdAndRemove(e.params.id),o.send("deleted"));var v,p;(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(i,"auth","E:\\Projects\\Social Network\\server\\services\\notifications.js"),v.register(n,"authToAlter","E:\\Projects\\Social Network\\server\\services\\notifications.js"),v.register(l,"createNotif","E:\\Projects\\Social Network\\server\\services\\notifications.js"),v.register(c,"getAllNotif","E:\\Projects\\Social Network\\server\\services\\notifications.js"),v.register(u,"changeNotif","E:\\Projects\\Social Network\\server\\services\\notifications.js"),v.register(f,"deleteNotif","E:\\Projects\\Social Network\\server\\services\\notifications.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},547:(e,o,r)=>{r.d(o,{I8:()=>c,Bd:()=>u,qb:()=>f,hs:()=>v,gJ:()=>p,Zj:()=>g,xl:()=>m,ju:()=>y,n9:()=>w,M8:()=>b});var t,a=r(295),s=r(81),d=r(413),i=r.n(d),n=r(881),l=r(521);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const c=(e,o,r)=>{if(e.session.user)return r();throw new n.NI},u=async(e,o)=>{const{page:r=0}=e.query,t=await a.Z.find().skip(25*parseInt(r)).limit(25);return o.json(t)},f=async(e,o,r)=>{const{message:t}=JSON.parse(e.files.message[0].buffer.toString()),s=new a.Z({message:t,author:e.session.user.id});if(1===Object.keys(e.files).length)return await s.save(),o.json({...s._doc,author:e.session.user});try{const r=await(0,l.Ts)({resource:{name:s._id,mimeType:"application/vnd.google-apps.folder"},fields:"id"});let t=0;for(const o of e.files.file){let e=new(i().PassThrough);e.end(o.buffer);const a=await(0,l.Ts)({media:{mimeType:o.mimetype,body:e},resource:{name:t++,parents:[r.id]}});s.files=[...s.files,a.data.id]}return await s.save(),o.json({...s._doc,author:e.session.user})}catch(e){return console.log(e),r(e)}},v=async(e,o)=>{const r=e.params.userId,{page:t=0}=e.query,d=await s.Z.findOne({user:r}),i=d?d.friends:[],n=await a.Z.find({author:{$in:[...i,r]}},{usersLiked:0}).sort({createdAt:-1}).populate("author").skip(5*parseInt(t)).limit(5).exec();return o.json(n)},p=async(e,o)=>{const{imgId:r}=e.params;return(await(0,l.wO)({fileId:r,alt:"media"},{responseType:"stream"})).data.pipe(o)},g=async(e,o,r)=>{if(!e.session.user)throw new n.NI;const t=await a.Z.findById(e.params.id).populate("author");if(!t)throw new n.TX;if(t.author._id!==e.session.user.id&&"admin"!==e.session.user.username&&"PATCH"!==e.method&&"GET"!==e.method)throw new n.rN;return e.post=t,r()},m=async(e,o)=>o.json(e.post),y=async(e,o,r)=>{for(const o of Object.keys(e.body))e.post[o]=e.body[o];return await e.post.save(),o.json(e.post)},w=async(e,o,r)=>{const t=e.post.usersLiked.findIndex((o=>o===e.session.user.id));let a=!0;return-1!==t?(e.post.usersLiked.splice(t,1),e.post.likes--,a=!1):(e.post.userLiked?e.post.usersLiked.push(e.session.user.id):e.post.usersLiked=[e.session.user.id],e.post.likes++),await e.post.save(),o.json({post:e.post,liked:a})},b=async(e,o)=>(e.post.files.length>0&&await(0,l.vr)({fileId:e.params.id}),await a.Z.findByIdAndRemove(e.params.id),o.send("deleted"));var j,L;(j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(j.register(c,"auth","E:\\Projects\\Social Network\\server\\services\\posts.js"),j.register(u,"getAllPosts","E:\\Projects\\Social Network\\server\\services\\posts.js"),j.register(f,"createPost","E:\\Projects\\Social Network\\server\\services\\posts.js"),j.register(v,"getPostsForUser","E:\\Projects\\Social Network\\server\\services\\posts.js"),j.register(p,"getImage","E:\\Projects\\Social Network\\server\\services\\posts.js"),j.register(g,"authToAlter","E:\\Projects\\Social Network\\server\\services\\posts.js"),j.register(m,"getPost","E:\\Projects\\Social Network\\server\\services\\posts.js"),j.register(y,"changePost","E:\\Projects\\Social Network\\server\\services\\posts.js"),j.register(w,"likePost","E:\\Projects\\Social Network\\server\\services\\posts.js"),j.register(b,"removePost","E:\\Projects\\Social Network\\server\\services\\posts.js")),(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&L(e)},808:(e,o,r)=>{r.d(o,{AW:()=>p,r4:()=>g,Iq:()=>m,PR:()=>y,AQ:()=>w,kX:()=>b,I8:()=>j,QL:()=>L,gJ:()=>G,Mb:()=>H});var t,a=r(337),s=r(81),d=r(295),i=r(147),n=r(975),l=r(193),c=r.n(l),u=r(881),f=r(521),v=r(413);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const p=async(e,o)=>{const{page:r=0,text:t=""}=e.query,s=new RegExp(t,"i"),d=await a.Z.find({username:{$regex:s}}).skip(5*parseInt(r)).limit(5);return o.json(d)},g=async(e,o)=>{const{username:r,password:t}=e.body;if(!r||!t)throw new u.oy("Missing username or password");const s=await a.Z.createUser({username:r,password:t});return o.json(s)},m=async(e,o,r)=>{const{id:t}=e.params,s=await a.Z.findOne({$or:[{_id:t},{username:t}]});if(!s)throw new u.TX;return e.user=s,"GET"===e.method?r():s.username!==e.session.user.username||"admin"!==e.session.user.username?new u.rN:r()},y=async(e,o)=>o.json(e.user),w=async(e,o,r)=>{e.body.password&&(e.body.password=await c().hash(e.body.password));for(const o of Object.keys(e.body))e.user[o]=e.body[o];return await e.user.save(),"admin"!==e.session.user.username&&e.session.regenerate((t=>t?r(t):(e.session.user=user.toJSON(),o.json(user)))),o.json(e.user)},b=async(e,o)=>{await s.Z.deleteOne({user:e.user._id});const r=await s.Z.find({friends:e.user._id});for(const o of r){const r=o.friends.findIndex((o=>o===e.user._id));o.friends.splice(r,1),await o.save()}const t=await d.Z.find({author:e.user._id});for(const e of t)await(0,f.vr)({fileId:e._id});return await d.Z.deleteMany({author:e.user._id}),await i.Z.deleteMany({$or:[{from:e.user._id},{to:e.user._id}]}),await n.Z.deleteMany({author:e.user._id}),e.user.img&&await(0,f.vr)({fileId:e.user.img}),await a.Z.findByIdAndDelete(e.user._id),o.send("ok")},j=async(e,o,r)=>{if(e.session.user)return r();throw new u.NI},L=async(e,o,r)=>{e.session.user.img&&await(0,f.vr)({fileId:e.session.user.img});const t=new v.PassThrough;t.end(e.file.buffer);const{data:a}=await(0,f.Ts)({media:{mimeType:e.file.mimetype,body:t},resource:{name:e.session.user.id}});e.user.img=a.id,await e.user.save(),e.session.regenerate((t=>t?r(t):(e.session.user=e.user.toJSON(),o.send(e.user))))},G=async(e,o)=>{const{id:r}=e.params;return(await(0,f.wO)({fileId:r,alt:"media"},{responseType:"stream"})).data.pipe(o)},H=async(e,o,r)=>{if(!e.session.user)throw new u.NI;return e.user=await a.Z.findById(e.session.user.id),r()};var h,_;(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(p,"getAllUsers","E:\\Projects\\Social Network\\server\\services\\users.js"),h.register(g,"createUser","E:\\Projects\\Social Network\\server\\services\\users.js"),h.register(m,"authorize","E:\\Projects\\Social Network\\server\\services\\users.js"),h.register(y,"getUser","E:\\Projects\\Social Network\\server\\services\\users.js"),h.register(w,"changeUser","E:\\Projects\\Social Network\\server\\services\\users.js"),h.register(b,"removeUser","E:\\Projects\\Social Network\\server\\services\\users.js"),h.register(j,"auth","E:\\Projects\\Social Network\\server\\services\\users.js"),h.register(L,"setImage","E:\\Projects\\Social Network\\server\\services\\users.js"),h.register(G,"getImage","E:\\Projects\\Social Network\\server\\services\\users.js"),h.register(H,"imgAuth","E:\\Projects\\Social Network\\server\\services\\users.js")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)},805:(e,o,r)=>{var t;r.d(o,{Z:()=>s}),e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=e=>{e.on("connection",(e=>{let o=null;e.on("conn",(r=>{o=r,e.join(r)})),e.on("sendChatMessage",((o,r,t)=>{e.to(r).emit("reciveChatMessage",t,o)})),e.on("addNotif",((o,r,t)=>{console.log("why?",o,r),e.to(r).emit("reciveNotif",o,t)})),e.on("addedFriend",((o,r,t,a)=>{e.broadcast.to(o).emit("newFriend",a),e.broadcast.to(r).emit("newFriend",t)})),e.on("disconn",(()=>{e.leave(o)}))}))},s=a;var d,i;(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&d.register(a,"default","E:\\Projects\\Social Network\\server\\socket-io.js"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},881:(module,__webpack_exports__,__webpack_require__)=>{var enterModule;__webpack_require__.d(__webpack_exports__,{aE:()=>GeneralError,oy:()=>BadRequest,NI:()=>Unauthorized,rN:()=>Forbidden,TX:()=>NotFound}),module=__webpack_require__.hmd(module),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},reactHotLoader,leaveModule;class GeneralError extends Error{constructor(){super()}getCode(){return this.code}getMessage(){return this.message}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}class BadRequest extends GeneralError{constructor(e){super(),this.code=400,this.message=e}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}class Unauthorized extends GeneralError{constructor(){super(),this.code=401,this.message="Unauthorized"}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}class Forbidden extends GeneralError{constructor(){super(),this.code=403,this.message="Forbidden"}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}class NotFound extends GeneralError{constructor(){super(),this.code=404,this.message="Not Found"}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(GeneralError,"GeneralError","E:\\Projects\\Social Network\\server\\utils\\Errors.js"),reactHotLoader.register(BadRequest,"BadRequest","E:\\Projects\\Social Network\\server\\utils\\Errors.js"),reactHotLoader.register(Unauthorized,"Unauthorized","E:\\Projects\\Social Network\\server\\utils\\Errors.js"),reactHotLoader.register(Forbidden,"Forbidden","E:\\Projects\\Social Network\\server\\utils\\Errors.js"),reactHotLoader.register(NotFound,"NotFound","E:\\Projects\\Social Network\\server\\utils\\Errors.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)},266:(e,o,r)=>{var t;r.d(o,{Z:()=>s}),e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=e=>(o,r,t)=>{Promise.resolve(e(o,r,t)).catch(t)},s=a;var d,i;(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&d.register(a,"default","E:\\Projects\\Social Network\\server\\utils\\autoCatch.js"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},873:(e,o,r)=>{r.d(o,{Z:()=>d});var t,a=r(881);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const s=(e,o,r,t)=>{if(e instanceof a.aE)return r.status(e.getCode()).json({error:e.getMessage()});if("ValidationError"===e.name){let o=Object.values(e.errors).map((e=>e.message)),t=Object.values(e.errors).map((e=>e.path));if(o.length>1){const e=o.join(" ");return r.status(400).json({messages:e,fields:t})}return r.status(400).json({messages:o,fields:t})}if(e.code&&11e3==e.code){const o=Object.keys(e.keyValue);return r.status(409).json({error:`An account with that field ${o} already exists.`})}return console.log(e.message),r.status(500).json({error:"Internal server error"})},d=s;var i,n;(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(s,"default","E:\\Projects\\Social Network\\server\\utils\\handleError.js"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},281:(e,o,r)=>{var t;r.d(o,{Z:()=>s}),e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=()=>'<!DOCTYPE HTML>\n    <html>\n        <head>\n          <meta charset="utf-8">\n          <title>Social Network</title>\n        </head>\n        <body>\n          <div id="root"></div>\n          <script src="/dist/bundle.js"><\/script>\n        </body>\n    </html>',s=a;var d,i;(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&d.register(a,"default","E:\\Projects\\Social Network\\template.js"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},193:e=>{e.exports=require("argon2")},334:e=>{e.exports=require("dotenv")},127:e=>{e.exports=require("express")},619:e=>{e.exports=require("mongoose")},633:e=>{e.exports=require("multer")},413:e=>{e.exports=require("stream")},231:e=>{e.exports=require("uuid")}},__webpack_module_cache__={};function __webpack_require__(e){if(__webpack_module_cache__[e])return __webpack_module_cache__[e].exports;var o=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e](o,o.exports,__webpack_require__),o.loaded=!0,o.exports}return __webpack_require__.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(o,{a:o}),o},__webpack_require__.d=(e,o)=>{for(var r in o)__webpack_require__.o(o,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},__webpack_require__.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),__webpack_require__.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__(483)})();